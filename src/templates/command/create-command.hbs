import { CommandHandler, ICommandHandler } from "@nestjs/cqrs";
import { Create{{entityNamePascal}}UseCase } from "@modules/{{moduleNameKebab}}/application/usecases/create-{{entityNameKebab}}.use-case";
import { Create{{entityNamePascal}}Dto } from "@modules/{{moduleNameKebab}}/application/dto/requests/create-{{entityNameKebab}}.dto";
import { {{entityNamePascal}}ResponseDto } from "@modules/{{moduleNameKebab}}/application/dto/responses/{{entityNameKebab}}.response.dto";

export class Create{{entityNamePascal}}Command {
  constructor(public readonly data: Create{{entityNamePascal}}Dto) {}
}

@CommandHandler(Create{{entityNamePascal}}Command)
export class Create{{entityNamePascal}}Handler
  implements ICommandHandler<Create{{entityNamePascal}}Command, {{entityNamePascal}}ResponseDto>
{
  constructor(private readonly useCase: Create{{entityNamePascal}}UseCase) {}

  async execute(command: Create{{entityNamePascal}}Command): Promise<{{entityNamePascal}}ResponseDto> {
    return this.useCase.execute(command.data);
  }
}
